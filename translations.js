// JavaScript Translations for JS Academy
const translations = {
    en: {
        // Common Navigation
        'nav.home': 'Home',
        'nav.lessons': 'Lessons',
        'nav.examples': 'Examples',
        'nav.quiz': 'Quiz',
        'nav.about': 'About',
        'nav.contact': 'Contact Us',
        
        // Common Buttons
        'btn.startLearning': 'Start Learning',
        'btn.backToHome': 'Back to Home',
        'btn.watchOnYouTube': 'Watch on YouTube',
        'btn.goToHomepage': 'Go to Homepage',
        'btn.previous': 'Previous',
        'btn.next': 'Next',
        'btn.runCode': 'Run Code',
        'btn.copyCode': 'Copy Code',
        'btn.startQuiz': 'Start Quiz',
        'btn.submitQuiz': 'Submit Quiz',
        'btn.restartQuiz': 'Restart Quiz',
        'btn.reviewAnswers': 'Review Answers',
        'btn.save': 'Save',
        'btn.startNow': 'Start Now',
        'btn.completed': 'Completed',
        
        // Common Labels
        'label.completed': 'Completed',
        'label.totalLessons': 'Total Lessons',
        'label.learningHours': 'Learning Hours',
        'label.progress': 'Progress',
        'label.search': 'Search',
        'label.all': 'All',
        'label.beginner': 'Beginner',
        'label.intermediate': 'Intermediate',
        'label.advanced': 'Advanced',
        'label.easy': 'Easy',
        'label.medium': 'Medium',
        'label.hard': 'Hard',
        'label.correctAnswers': 'Correct Answers',
        'label.totalQuestions': 'Total Questions',
        'label.timeTaken': 'Time Taken',
        'label.accuracy': 'Accuracy',
        
        // Footer
        'footer.copyright': '© 2026 JS Academy. All rights reserved.',
        
        // Notifications
        'notification.codeCopied': 'Code copied to clipboard!',
        'notification.codeExecuted': 'Code executed successfully!',
        'notification.saved': 'Saved to favorites',
        'notification.removed': 'Removed from favorites',
        'notification.quizCompleted': 'Quiz completed successfully!',
        
        // Index Page
        'index.heroTitle': 'Welcome to JS Academy',
        'index.heroText': 'Learn JavaScript easily with lessons, examples, quizzes, and projects. Start your programming journey now!',
        'index.visionTitle': 'Vision & Mission',
        'index.visionText': 'Our vision is to create a modern, simple, and effective environment for learning JavaScript for beginners. Our mission is to provide free, high-quality lessons and examples that help students build real programming skills.',
        'index.aboutTitle': 'About Developer',
        'index.aboutText': 'The JS Academy platform was developed by Seif, a passionate web developer who aims to make learning JavaScript easy and enjoyable for everyone.',
        'index.contactTitle': 'Contact Us',
        'index.contactEmail': 'Email: seif@gmail.com',
        
        // Lessons Page
        'lessons.title': 'JavaScript Beginner\'s Course',
        'lessons.subtitle': 'Learn JavaScript from scratch with 11 complete tutorial videos. Start your programming journey now!',
        'lessons.playlistTitle': 'Complete JavaScript Playlist',
        'lessons.playlistText': 'All 11 videos from your YouTube playlist are embedded here. Click "Watch on YouTube" to open the full playlist.',
        'lessons.searchPlaceholder': 'Search lessons...',
        'lessons.filterAll': 'All Lessons',
        'lessons.filterCompleted': 'Completed',
        'lessons.filterIncomplete': 'Not Completed',
        'lessons.currentLesson': 'Lesson {current} of {total}',
        'lessons.emptyState': 'No lessons match your search',
        'lessons.emptyStateText': 'Try changing your search terms or remove the filter',
        
        // Examples Page
        'examples.title': 'JavaScript Interactive Examples',
        'examples.subtitle': 'Explore, run, and modify real JavaScript code examples. Learn by doing with our interactive coding playground.',
        'examples.searchPlaceholder': 'Search examples by keyword...',
        'examples.filterAll': 'All Examples',
        'examples.filterBeginner': 'Beginner',
        'examples.filterIntermediate': 'Intermediate',
        'examples.filterAdvanced': 'Advanced',
        'examples.codeHeader': 'JavaScript Code',
        'examples.outputHeader': 'Output',
        'examples.runPrompt': 'Click "Run Code" to see the output',
        'examples.emptyState': 'No examples found',
        'examples.emptyStateText': 'Try changing your search terms or select a different category',
        
        // Quiz Page
        'quiz.title': 'JavaScript Knowledge Test',
        'quiz.subtitle': 'Test your JavaScript skills with our interactive quizzes. Choose a category and see how much you\'ve learned!',
        'quiz.basicsTitle': 'JavaScript Basics',
        'quiz.basicsDesc': 'Test your knowledge of fundamental JavaScript concepts including variables, data types, and basic syntax.',
        'quiz.functionsTitle': 'Functions & Scope',
        'quiz.functionsDesc': 'Challenge yourself with questions about functions, parameters, return values, and scope in JavaScript.',
        'quiz.arraysTitle': 'Arrays & Objects',
        'quiz.arraysDesc': 'Test your understanding of arrays, objects, and their methods with practical scenarios.',
        'quiz.domTitle': 'DOM Manipulation',
        'quiz.domDesc': 'Check your skills in manipulating HTML elements and handling events with JavaScript.',
        'quiz.advancedTitle': 'Advanced Concepts',
        'quiz.advancedDesc': 'Challenge yourself with advanced topics like async/await, promises, and modern ES6+ features.',
        'quiz.finalTitle': 'Final Assessment',
        'quiz.finalDesc': 'Comprehensive test covering all JavaScript concepts. Perfect for final preparation.',
        'quiz.timeLeft': 'Time Left',
        'quiz.question': 'Question',
        'quiz.of': 'of',
        'quiz.resultsTitle': 'Quiz Completed!',
        'quiz.resultsExcellent': 'Excellent Work!',
        'quiz.resultsGood': 'Good Job!',
        'quiz.resultsPractice': 'Keep Practicing!',
        'quiz.reviewTitle': 'Quiz Review',
        'quiz.reviewSubtitle': 'Review your answers and learn from your mistakes',
        
        // Theme & Language
        'theme.light': 'Light',
        'theme.dark': 'Dark',
        'theme.auto': 'Auto',
        'language.en': 'English',
        'language.ar': 'العربية',
        'button.languageToggle': 'Toggle Language',
        'button.themeToggle': 'Toggle Theme',
        
        // Lesson Descriptions
        'lesson1.title': 'JavaScript/Node.js Course (Arabic) - #0 Intro',
        'lesson1.desc': 'This video is an introduction to the JavaScript basics tutorial series in Arabic from FreeCodeCamp.',
        
        'lesson2.title': 'JavaScript/Node.js Course (Arabic) - #1 Variables',
        'lesson2.desc': 'This video explains Variables and details the comparison between var, let, and const.',
        
        'lesson3.title': 'JavaScript/Node.js Course (Arabic) - #2 Arithmetic Operators',
        'lesson3.desc': 'Let\'s learn about arithmetic operations and how to perform them in programming.',
        
        'lesson4.title': 'JavaScript/Node.js Course (Arabic) - #3 Strings',
        'lesson4.desc': 'This video is very important for covering texts and how to deal with them in code.',
        
        'lesson5.title': 'JavaScript/Node.js Course (Arabic) - #4 Arrays',
        'lesson5.desc': 'This video is very important for covering one of the most important Data Structures we will use in practical data handling.',
        
        'lesson6.title': 'JavaScript/Node.js Course (Arabic) - #5 Functions',
        'lesson6.desc': 'This video is very important for covering one of the most important Data Structures we will use in practical data handling.',
        
        'lesson7.title': 'JavaScript/Node.js Course (Arabic) - #6 Conditions',
        'lesson7.desc': 'Let\'s learn about Conditions, which is creating paths in code based on certain conditions being met.',
        
        'lesson8.title': 'JavaScript/Node.js Course (Arabic) - #7 Switch Case',
        'lesson8.desc': 'JavaScript/Node.js Course (Arabic) - #7 Switch Case',
        
        'lesson9.title': 'JavaScript/Node.js Course (Arabic) - #8 Objects',
        'lesson9.desc': 'JavaScript/Node.js Course (Arabic) - #8 Objects',
        
        'lesson10.title': 'JavaScript/Node.js Course (Arabic) - #9 Loops',
        'lesson10.desc': 'JavaScript/Node.js Course (Arabic) - #9 Loops',
        
        'lesson11.title': 'JavaScript/Node.js Course (Arabic) - #10 Outro',
        'lesson11.desc': 'Build a complete mini project using all the concepts learned in the JavaScript tutorial series.',
    },
    
    ar: {
        // Common Navigation
        'nav.home': 'الرئيسية',
        'nav.lessons': 'الدروس',
        'nav.examples': 'الأمثلة',
        'nav.quiz': 'الاختبارات',
        'nav.about': 'حول',
        'nav.contact': 'اتصل بنا',
        
        // Common Buttons
        'btn.startLearning': 'ابدأ التعلم',
        'btn.backToHome': 'العودة للرئيسية',
        'btn.watchOnYouTube': 'شاهد على يوتيوب',
        'btn.goToHomepage': 'اذهب للرئيسية',
        'btn.previous': 'السابق',
        'btn.next': 'التالي',
        'btn.runCode': 'تشغيل الكود',
        'btn.copyCode': 'نسخ الكود',
        'btn.startQuiz': 'بدء الاختبار',
        'btn.submitQuiz': 'إنهاء الاختبار',
        'btn.restartQuiz': 'إعادة الاختبار',
        'btn.reviewAnswers': 'مراجعة الإجابات',
        'btn.save': 'حفظ',
        'btn.startNow': 'ابدأ الآن',
        'btn.completed': 'مكتمل',
        
        // Common Labels
        'label.completed': 'المكتملة',
        'label.totalLessons': 'إجمالي الدروس',
        'label.learningHours': 'ساعات التعلم',
        'label.progress': 'التقدم',
        'label.search': 'بحث',
        'label.all': 'الكل',
        'label.beginner': 'مبتدئ',
        'label.intermediate': 'متوسط',
        'label.advanced': 'متقدم',
        'label.easy': 'سهل',
        'label.medium': 'متوسط',
        'label.hard': 'صعب',
        'label.correctAnswers': 'الإجابات الصحيحة',
        'label.totalQuestions': 'إجمالي الأسئلة',
        'label.timeTaken': 'الوقت المستغرق',
        'label.accuracy': 'الدقة',
        
        // Footer
        'footer.copyright': '© 2026 أكاديمية جافاسكريبت. جميع الحقوق محفوظة.',
        
        // Notifications
        'notification.codeCopied': 'تم نسخ الكود!',
        'notification.codeExecuted': 'تم تنفيذ الكود بنجاح!',
        'notification.saved': 'تم الحفظ في المفضلة',
        'notification.removed': 'تمت الإزالة من المفضلة',
        'notification.quizCompleted': 'تم إكمال الاختبار بنجاح!',
        
        // Index Page
        'index.heroTitle': 'مرحباً بك في أكاديمية جافاسكريبت',
        'index.heroText': 'تعلم جافاسكريبت بسهولة من خلال الدروس، الأمثلة، الاختبارات، والمشاريع. ابدأ رحلة البرمجة الخاصة بك الآن!',
        'index.visionTitle': 'الرؤية والرسالة',
        'index.visionText': 'رؤيتنا هي خلق بيئة حديثة وبسيطة وفعالة لتعلم جافاسكريبت للمبتدئين. مهمتنا هي تقديم دروس وأمثلة مجانية عالية الجودة تساعد الطلاب على بناء مهارات برمجة حقيقية.',
        'index.aboutTitle': 'حول المطور',
        'index.aboutText': 'تم تطوير منصة أكاديمية جافاسكريبت بواسطة سيف، وهو مطور ويب شغوف يهدف إلى جعل تعلم جافاسكريبت سهلاً وممتعاً للجميع.',
        'index.contactTitle': 'اتصل بنا',
        'index.contactEmail': 'البريد الإلكتروني: seif@gmail.com',
        
        // Lessons Page
        'lessons.title': 'دورة جافاسكريبت للمبتدئين',
        'lessons.subtitle': 'تعلم جافاسكريبت من الصفر مع 11 فيديو تعليمي كامل. ابدأ رحلة البرمجة الخاصة بك الآن!',
        'lessons.playlistTitle': 'قائمة تشغيل جافاسكريبت الكاملة',
        'lessons.playlistText': 'جميع مقاطع الفيديو الـ 11 من قائمة التشغيل الخاصة بك موجودة هنا. انقر فوق "شاهد على يوتيوب" لفتح قائمة التشغيل الكاملة.',
        'lessons.searchPlaceholder': 'ابحث في الدروس...',
        'lessons.filterAll': 'كل الدروس',
        'lessons.filterCompleted': 'المكتملة',
        'lessons.filterIncomplete': 'غير المكتملة',
        'lessons.currentLesson': 'الدرس {current} من {total}',
        'lessons.emptyState': 'لا توجد دروس مطابقة للبحث',
        'lessons.emptyStateText': 'حاول تغيير مصطلحات البحث أو إزالة الفلتر',
        
        // Examples Page
        'examples.title': 'أمثلة جافاسكريبت التفاعلية',
        'examples.subtitle': 'استكشف وشغّل وعدّل أمثلة كود جافاسكريبت حقيقية. تعلم بالممارسة من خلال بيئة البرمجة التفاعلية الخاصة بنا.',
        'examples.searchPlaceholder': 'ابحث في الأمثلة...',
        'examples.filterAll': 'كل الأمثلة',
        'examples.filterBeginner': 'مبتدئ',
        'examples.filterIntermediate': 'متوسط',
        'examples.filterAdvanced': 'متقدم',
        'examples.codeHeader': 'كود جافاسكريبت',
        'examples.outputHeader': 'النتيجة',
        'examples.runPrompt': 'انقر "تشغيل الكود" لرؤية النتيجة',
        'examples.emptyState': 'لا توجد أمثلة',
        'examples.emptyStateText': 'حاول تغيير مصطلحات البحث أو اختيار تصنيف مختلف',
        
        // Quiz Page
        'quiz.title': 'اختبار معرفة جافاسكريبت',
        'quiz.subtitle': 'اختبر مهاراتك في جافاسكريبت مع اختباراتنا التفاعلية. اختر فئة وشاهد كم تعلمت!',
        'quiz.basicsTitle': 'أساسيات جافاسكريبت',
        'quiz.basicsDesc': 'اختبر معرفتك بالمفاهيم الأساسية في جافاسكريبت بما في ذلك المتغيرات، أنواع البيانات، والبناء الأساسي.',
        'quiz.functionsTitle': 'الدوال والنطاق',
        'quiz.functionsDesc': 'تحدى نفسك بأسئلة حول الدوال، المعاملات، القيم المرجعة، والنطاق في جافاسكريبت.',
        'quiz.arraysTitle': 'المصفوفات والكائنات',
        'quiz.arraysDesc': 'اختبر فهمك للمصفوفات، الكائنات، وطرقها مع سيناريوهات عملية.',
        'quiz.domTitle': 'التعامل مع DOM',
        'quiz.domDesc': 'اختبر مهاراتك في التعامل مع عناصر HTML ومعالجة الأحداث باستخدام جافاسكريبت.',
        'quiz.advancedTitle': 'مفاهيم متقدمة',
        'quiz.advancedDesc': 'تحدى نفسك بمواضيع متقدمة مثل async/await، الوعود، وميزات ES6+ الحديثة.',
        'quiz.finalTitle': 'الاختبار النهائي',
        'quiz.finalDesc': 'اختبار شامل يغطي جميع مفاهيم جافاسكريبت. مثالي للتحضير النهائي.',
        'quiz.timeLeft': 'الوقت المتبقي',
        'quiz.question': 'السؤال',
        'quiz.of': 'من',
        'quiz.resultsTitle': 'تم إكمال الاختبار!',
        'quiz.resultsExcellent': 'عمل ممتاز!',
        'quiz.resultsGood': 'عمل جيد!',
        'quiz.resultsPractice': 'استمر في الممارسة!',
        'quiz.reviewTitle': 'مراجعة الاختبار',
        'quiz.reviewSubtitle': 'راجع إجاباتك وتعلم من أخطائك',
        
        // Theme & Language
        'theme.light': 'فاتح',
        'theme.dark': 'داكن',
        'theme.auto': 'تلقائي',
        'language.en': 'English',
        'language.ar': 'العربية',
        'button.languageToggle': 'تبديل اللغة',
        'button.themeToggle': 'تبديل السمة',
        
        // Lesson Descriptions
        'lesson1.title': 'كورس جافاسكريبت JavaScript/Node.js (عربي) - #0 المقدمة',
        'lesson1.desc': 'الفيديو ده مقدمة لسلسة شرح أساسيات الجافاسكريبت بالعربي من على موقع FreeCodeCamp.',
        
        'lesson2.title': 'كورس جافاسكريبت JavaScript/Node.js (عربي) - #1 المتغيرات',
        'lesson2.desc': 'الفيديو ده بيشرح المتغيرات وبيفصل المقارنة بين var والlet والconst.',
        
        'lesson3.title': 'كورس جافاسكريبت JavaScript/Node.js (عربي) - #2 العمليات الحسابية',
        'lesson3.desc': 'تعالوا نتعرف على العمليات الحسابية وازاي نعملها في البرمجة.',
        
        'lesson4.title': 'كورس جافاسكريبت JavaScript/Node.js (عربي) - #3 النصوص',
        'lesson4.desc': 'الفيديو ده مهم جدا في تغطية النصوص والتعامل معاها في الكود.',
        
        'lesson5.title': 'كورس جافاسكريبت JavaScript/Node.js (عربي) - #4 المصفوفات',
        'lesson5.desc': 'الفيديو ده مهم جدا في تغطية واحد من أهم هياكل البيانات اللي هنستخدمها في التعامل العملي مع أي بيانات.',
        
        'lesson6.title': 'كورس جافاسكريبت JavaScript/Node.js (عربي) - #5 الدوال',
        'lesson6.desc': 'الفيديو ده مهم جدا في تغطية واحد من أهم هياكل البيانات اللي هنستخدمها في التعامل العملي مع أي بيانات',
        
        'lesson7.title': 'كورس جافاسكريبت JavaScript/Node.js (عربي) - #6 الشروط',
        'lesson7.desc': 'تعالوا نتعرف على الشروط وهو إنك تعمل مسارات في الكود بناءً على تحقق شروط معينة.',
        
        'lesson8.title': 'كورس جافاسكريبت JavaScript/Node.js (عربي) - #7 Switch Case',
        'lesson8.desc': 'كورس جافاسكريبت JavaScript/Node.js (عربي) - #7 Switch Case',
        
        'lesson9.title': 'كورس جافاسكريبت JavaScript/Node.js (عربي) - #8 الكائنات',
        'lesson9.desc': 'كورس جافاسكريبت JavaScript/Node.js (عربي) - #8 الكائنات',
        
        'lesson10.title': 'كورس جافاسكريبت JavaScript/Node.js (عربي) - #9 الحلقات',
        'lesson10.desc': 'كورس جافاسكريبت JavaScript/Node.js (عربي) - #9 الحلقات',
        
        'lesson11.title': 'كورس جافاسكريبت JavaScript/Node.js (عربي) - #10 الخاتمة',
        'lesson11.desc': 'ابن مشروع مصغر باستخدام كل المفاهيم التي تعلمتها في سلسلة تعليم جافاسكريبت.',
    }
};

// Language and Theme Manager Class
class LanguageThemeManager {
    constructor() {
        this.currentLang = localStorage.getItem('js-academy-language') || 'en';
        this.currentTheme = localStorage.getItem('js-academy-theme') || 'auto';
        this.init();
    }
    
    init() {
        // Apply saved language and theme on load
        this.applyLanguage(this.currentLang);
        this.applyTheme(this.currentTheme);
        
        // Initialize buttons if they don't exist
        this.initializeButtons();
        
        // Add event listeners
        this.setupEventListeners();
    }
    
    initializeButtons() {
        // Create header buttons container if it doesn't exist
        if (!document.querySelector('.header-buttons')) {
            const headerButtons = document.createElement('div');
            headerButtons.className = 'header-buttons';
            
            // Create language button
            const languageBtn = document.createElement('button');
            languageBtn.id = 'languageToggle';
            languageBtn.className = 'header-btn language-btn';
            languageBtn.setAttribute('data-translate', 'button.languageToggle');
            languageBtn.setAttribute('aria-label', 'Toggle language');
            languageBtn.innerHTML = '<i class="fas fa-language"></i>';
            
            // Create theme button
            const themeBtn = document.createElement('button');
            themeBtn.id = 'themeToggle';
            themeBtn.className = 'header-btn theme-btn';
            themeBtn.setAttribute('data-translate', 'button.themeToggle');
            themeBtn.setAttribute('aria-label', 'Toggle theme');
            themeBtn.innerHTML = '<i class="fas fa-moon"></i>';
            
            // Add buttons to container
            headerButtons.appendChild(languageBtn);
            headerButtons.appendChild(themeBtn);
            
            // Add container to header
            const header = document.querySelector('header');
            if (header) {
                header.appendChild(headerButtons);
            }
        }
    }
    
    setupEventListeners() {
        // Language toggle
        const languageBtn = document.getElementById('languageToggle');
        if (languageBtn) {
            languageBtn.addEventListener('click', () => {
                const newLang = this.currentLang === 'en' ? 'ar' : 'en';
                this.applyLanguage(newLang);
            });
        }
        
        // Theme toggle
        const themeBtn = document.getElementById('themeToggle');
        if (themeBtn) {
            themeBtn.addEventListener('click', () => {
                const themes = ['light', 'dark', 'auto'];
                const currentIndex = themes.indexOf(this.currentTheme);
                const nextIndex = (currentIndex + 1) % themes.length;
                this.applyTheme(themes[nextIndex]);
            });
        }
    }
    
    applyLanguage(lang) {
        this.currentLang = lang;
        localStorage.setItem('js-academy-language', lang);
        
        // Update HTML lang attribute
        document.documentElement.lang = lang;
        
        // Update direction for Arabic
        if (lang === 'ar') {
            document.documentElement.dir = 'rtl';
            document.body.classList.add('rtl');
        } else {
            document.documentElement.dir = 'ltr';
            document.body.classList.remove('rtl');
        }
        
        // Update all elements with data-translate attribute
        this.updateTranslations();
        
        // Update button aria-labels
        this.updateButtonLabels();
        
        // Dispatch language change event
        document.dispatchEvent(new CustomEvent('languageChanged', { 
            detail: { language: lang } 
        }));
    }
    
    applyTheme(theme) {
        this.currentTheme = theme;
        localStorage.setItem('js-academy-theme', theme);
        
        // Remove existing theme classes
        document.documentElement.classList.remove('theme-light', 'theme-dark', 'theme-auto');
        
        // Add new theme class
        document.documentElement.classList.add(`theme-${theme}`);
        
        // Update theme icon
        this.updateThemeIcon();
        
        // Update button aria-label
        this.updateThemeButtonLabel();
        
        // Dispatch theme change event
        document.dispatchEvent(new CustomEvent('themeChanged', { 
            detail: { theme: theme } 
        }));
    }
    
    translate(key, params = {}) {
        let text = translations[this.currentLang]?.[key] || translations['en'][key] || key;
        
        // Replace parameters in text
        Object.keys(params).forEach(param => {
            text = text.replace(new RegExp(`{${param}}`, 'g'), params[param]);
        });
        
        return text;
    }
    
    updateTranslations() {
        // Update all elements with data-translate attribute
        document.querySelectorAll('[data-translate]').forEach(element => {
            const key = element.getAttribute('data-translate');
            const text = this.translate(key);
            
            if (text && element.tagName !== 'BUTTON') {
                if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                    element.placeholder = text;
                } else {
                    element.textContent = text;
                }
            }
        });
        
        // Update elements with data-translate-placeholder
        document.querySelectorAll('[data-translate-placeholder]').forEach(element => {
            const key = element.getAttribute('data-translate-placeholder');
            const text = this.translate(key);
            
            if (text) {
                element.placeholder = text;
            }
        });
    }
    
    updateButtonLabels() {
        // Update language button aria-label
        const languageBtn = document.getElementById('languageToggle');
        if (languageBtn) {
            const label = this.translate('button.languageToggle');
            languageBtn.setAttribute('aria-label', label);
            languageBtn.setAttribute('title', label);
        }
        
        // Update theme button aria-label
        this.updateThemeButtonLabel();
    }
    
    updateThemeButtonLabel() {
        const themeBtn = document.getElementById('themeToggle');
        if (themeBtn) {
            const label = this.translate('button.themeToggle');
            themeBtn.setAttribute('aria-label', label);
            themeBtn.setAttribute('title', label);
        }
    }
    
    updateThemeIcon() {
        const themeBtn = document.getElementById('themeToggle');
        if (themeBtn) {
            const icon = themeBtn.querySelector('i');
            if (icon) {
                // Update icon based on theme
                if (this.currentTheme === 'light') {
                    icon.className = 'fas fa-sun';
                } else if (this.currentTheme === 'dark') {
                    icon.className = 'fas fa-moon';
                } else {
                    icon.className = 'fas fa-adjust';
                }
            }
        }
    }
    
    // Helper method to get current language
    getCurrentLanguage() {
        return this.currentLang;
    }
    
    // Helper method to get current theme
    getCurrentTheme() {
        return this.currentTheme;
    }
}

// Initialize language and theme manager when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    window.languageThemeManager = new LanguageThemeManager();
});

// Export for module usage
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { translations, LanguageThemeManager };
}
